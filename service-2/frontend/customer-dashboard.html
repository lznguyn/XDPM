<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MuTraPro - Bแบฃng ฤiแปu Khiแปn Khรกch Hรng</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>๐ต MuTraPro Dashboard</h1>
        <div class="header-info" style="display: flex; align-items: center; gap: 15px;">
          <!-- Notifications -->
          <div class="notification-container">
            <button class="notification-icon" onclick="toggleNotifications()" id="notificationBtn">
              ๐
              <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
            </button>
            <div class="notification-dropdown" id="notificationDropdown">
              <div class="notification-header">
                <h3>Thรดng bรกo</h3>
                <button onclick="markAllAsRead()" style="background: none; border: none; color: #667eea; cursor: pointer; font-size: 12px;">
                  ฤรกnh dแบฅu tแบฅt cแบฃ ฤรฃ ฤแปc
                </button>
              </div>
              <div id="notificationList">
                <div class="notification-empty">ฤang tแบฃi...</div>
              </div>
            </div>
          </div>
          <div class="customer-name" id="customerNameDisplay">Khรกch hรng</div>
          <button class="logout-btn" onclick="logout()">ฤฤng Xuแบฅt</button>
        </div>
      </div>

      <!-- Tabs Navigation -->
      <div class="tabs-container">
        <button class="tab-button active" onclick="switchTab('dashboard')">
          ๐ Bแบฃng ฤiแปu Khiแปn
        </button>
        <button class="tab-button" onclick="switchTab('profile')">
          ๐ค Hแป Sฦก Khรกch Hรng
        </button>
        <button class="tab-button" onclick="switchTab('upload')">
          ๐ Tแบกo Yรชu Cแบงu
        </button>
        <button class="tab-button" onclick="switchTab('tracking')">
          ๐ Theo Dรตi ฤฦกn
        </button>
        <button class="tab-button" onclick="switchTab('payments')">
          ๐ฐ Thanh Toรกn
        </button>
        <button class="tab-button" onclick="switchTab('feedback')">
          ๐ฌ Yรชu Cแบงu Chแปnh Sแปญa
        </button>
        <button class="tab-button" onclick="switchTab('studios')">
          ๐๏ธ ฤแบทt Studio
        </button>
        <button class="tab-button" onclick="window.location.href='index.html'">
          ๐ Trang Chแปง
        </button>
      </div>

      <!-- Dashboard Tab -->
      <div id="dashboard" class="tab-content active">
        <h2>๐ Tแปng Quan</h2>
        <div class="stats-grid" id="statsGrid"></div>
        <h3 style="margin-top: 30px; margin-bottom: 20px">ฤฦกn Hรng Gแบงn ฤรขy</h3>
        <div id="recentRequests"></div>
      </div>

      <!-- Profile Tab -->
      <div id="profile" class="tab-content">
        <h2>๐ค Quแบฃn Lรฝ Hแป Sฦก Khรกch Hรng</h2>
        <div id="profileMessage"></div>

        <div class="form-row">
          <div class="form-group">
            <label>Tรชn Khรกch Hรng *</label>
            <input
              type="text"
              id="profileName"
              placeholder="Nhแบญp tรชn cแปงa bแบกn"
            />
          </div>
          <div class="form-group">
            <label>Email *</label>
            <input type="email" id="profileEmail" placeholder="Nhแบญp email" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label>ฤiแปn Thoแบกi</label>
            <input
              type="tel"
              id="profilePhone"
              placeholder="Nhแบญp sแป ฤiแปn thoแบกi"
            />
          </div>
          <div class="form-group">
            <label>ฤแปa Chแป</label>
            <input type="text" id="profileAddress" placeholder="Nhแบญp ฤแปa chแป" />
          </div>
        </div>

        <div style="display: flex; gap: 10px">
          <button class="btn btn-primary" onclick="saveProfile()">
            ๐พ Lฦฐu Hแป Sฦก
          </button>
          <button class="btn btn-secondary" onclick="loadProfile()">
            ๐ Tแบฃi Lแบกi
          </button>
        </div>
      </div>

      <!-- Upload Tab -->
      <div id="upload" class="tab-content">
        <h2>๐ Tแบกo Yรชu Cแบงu Dแปch Vแปฅ</h2>
        <div id="uploadMessage"></div>

        <div class="form-group">
          <label>Loแบกi Dแปch Vแปฅ *</label>
          <select id="serviceType">
            <option value="">-- Chแปn Loแบกi Dแปch Vแปฅ --</option>
            <option value="transcription">๐ค Phiรชn รm (Transcription)</option>
            <option value="arrangement">๐ผ Phแปi khรญ (Arrangement)</option>
            <option value="recording">๐๏ธ Thu รm (Recording)</option>
          </select>
        </div>

        <div class="form-group">
          <label>Tแปp รm Thanh / Nhแบกc *</label>
          <div class="file-upload" id="fileUpload">
            <div class="upload-icon">๐ค</div>
            <div class="upload-text">Kรฉo thแบฃ tแปp hoแบทc nhแบฅp ฤแป chแปn</div>
            <div class="upload-hint">
              Hแป trแปฃ MP3, WAV, OGG, FLAC (Tแปi ฤa 100MB)
            </div>
            <input type="file" id="audioFile" accept="audio/*" />
          </div>
        </div>

        <div class="form-group">
          <label>Mรด Tแบฃ Yรชu Cแบงu</label>
          <textarea
            id="requestDescription"
            placeholder="Mรด tแบฃ chi tiแบฟt yรชu cแบงu cแปงa bแบกn..."
          ></textarea>
        </div>

        <button
          class="btn btn-primary"
          onclick="submitRequest()"
          style="width: 100%; margin-top: 20px;"
        >
          ๐ค Gแปญi Yรชu Cแบงu
        </button>
      </div>

      <!-- Tracking Tab -->
      <div id="tracking" class="tab-content">
        <h2>๐ Theo Dรตi ฤฦกn Hรng</h2>
        <p style="color: #666; margin-bottom: 20px; font-size: 14px;">Hiแปn thแป cรกc ฤฦกn hรng ฤang ฤฦฐแปฃc xแปญ lรฝ vร chฦฐa hoรn thรnh</p>
        <div id="trackingMessage"></div>
        <div id="requestsList"></div>
      </div>

      <!-- History Tab -->
      <div id="history" class="tab-content">
        <h2>๐ Lแปch Sแปญ ฤฦกn Hรng</h2>
        <p style="color: #666; margin-bottom: 20px; font-size: 14px;">Hiแปn thแป cรกc ฤฦกn hรng ฤรฃ hoรn thรnh vร ฤรฃ thanh toรกn, hoแบทc ฤรฃ bแป hแปงy</p>
        <div id="historyMessage"></div>
        <div id="historyList"></div>
      </div>

      <!-- Payments Tab -->
      <div id="payments" class="tab-content">
        <h2>๐ฐ Quแบฃn Lรฝ Thanh Toรกn</h2>
        <div id="paymentsMessage"></div>

        <!-- Payment Stats -->
        <div class="stats-grid" id="paymentStats"></div>

        <!-- Unpaid Requests -->
        <h3 style="margin-top: 30px; margin-bottom: 20px">
          Cรกc ฤฦกn Chฦฐa Thanh Toรกn
        </h3>
        <div id="unpaidRequests"></div>

        <!-- Transactions -->
        <h3 style="margin-top: 30px; margin-bottom: 20px">Lแปch Sแปญ Giao Dแปch</h3>
        <div class="table-responsive">
          <table id="transactionsTable">
            <thead>
              <tr>
                <th>Ngรy Giao Dแปch</th>
                <th>Mรฃ Thanh Toรกn</th>
                <th>Liรชn Kแบฟt ฤฦกn</th>
                <th>Sแป Tiแปn</th>
                <th>Trแบกng Thรกi</th>
              </tr>
            </thead>
            <tbody id="transactionsBody"></tbody>
          </table>
        </div>
      </div>

      <!-- Studios Tab -->
      <div id="studios" class="tab-content">
        <h2>๐๏ธ ฤแบทt Phรฒng Thu รm</h2>
        <div id="studiosMessage"></div>
        
        <!-- Studio List -->
        <div id="studiosList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
          <!-- Studios will be loaded here -->
        </div>

        <!-- Booking Modal -->
        <div id="bookingModal" class="modal">
          <div class="modal-content">
            <div class="modal-header">
              <h2 class="modal-title">๐ ฤแบทt Phรฒng Thu</h2>
              <button class="modal-close" onclick="closeBookingModal()">โ</button>
            </div>
            <div id="bookingModalBody">
              <!-- Booking form will be inserted here -->
            </div>
          </div>
        </div>
      </div>

      <!-- Feedback Tab -->
      <div id="feedback" class="tab-content">
        <h2>๐ฌ Yรชu Cแบงu Chแปnh Sแปญa & Phแบฃn Hแปi</h2>
        <div id="feedbackMessage"></div>

        <div class="form-group">
          <label>Chแปn ฤฦกn Hรng *</label>
          <select id="feedbackRequestId">
            <option value="">-- Chแปn ฤฦกn Hรng --</option>
          </select>
        </div>

        <div class="form-group">
          <label>Nแปi Dung Chแปnh Sแปญa / Phแบฃn Hแปi *</label>
          <textarea
            id="feedbackContent"
            placeholder="Mรด tแบฃ chi tiแบฟt nhแปฏng chแปnh sแปญa bแบกn muแปn..."
          ></textarea>
        </div>

        <div class="form-group">
          <label>Loแบกi Phแบฃn Hแปi *</label>
          <select id="feedbackType">
            <option value="">-- Chแปn Loแบกi --</option>
            <option value="revision">โ๏ธ Yรชu Cแบงu Chแปnh Sแปญa</option>
            <option value="bug">๐ Bรกo Lแปi</option>
            <option value="suggestion">๐ก ฤแป Xuแบฅt</option>
          </select>
        </div>

        <button
          class="btn btn-primary"
          onclick="submitFeedback()"
          style="width: 100%"
        >
          ๐ค Gแปญi Phแบฃn Hแปi
        </button>

        <!-- Previous Feedback -->
        <h3 style="margin-top: 30px; margin-bottom: 20px">Phแบฃn Hแปi Trฦฐแปc ฤรณ</h3>
        <div id="feedbackHistory"></div>
      </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">๐ณ Thanh Toรกn</h2>
          <button class="modal-close" onclick="closePaymentModal()">โ</button>
        </div>
        <div id="paymentModalBody"></div>
      </div>
    </div>

    <!-- Select Expert Modal -->
    <div id="selectExpertModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">๐ค Chแปn Chuyรชn Gia & Ngรy Gแบทp</h2>
                <button class="modal-close" onclick="closeSelectExpertModal()">โ</button>
            </div>
            <div id="selectExpertModalBody"></div>
        </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
